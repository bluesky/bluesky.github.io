<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bluesky_queueserver.ZMQCommSendThreads.send_message &mdash; bluesky-queueserver 0.0.18.post185+g7bd40cd documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bluesky_queueserver.ZMQCommSendThreads.close" href="bluesky_queueserver.ZMQCommSendThreads.close.html" />
    <link rel="prev" title="bluesky_queueserver.ZMQCommSendThreads" href="bluesky_queueserver.ZMQCommSendThreads.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            bluesky-queueserver
          </a>
              <div class="version">
                0.0.18.post185+g7bd40cd
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bluesky/bluesky-queueserver">Source Code on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction_for_users.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using_queue_server.html">Using the Queue Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features_and_config.html">Features and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../startup_code.html">Organizing Bluesky Startup Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ipython.html">Using IPython Startup Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../item_validation.html">Validation of Queue Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plan_annotation.html">Annotating Bluesky Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cli_tools.html">Command-Line Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manager_config.html">RE Manager Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qserver_quick_ref.html"><em>qserver</em> : Quick Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application Developer's Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../interacting_with_qs.html">Interacting with Queue Server</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../re_manager_api.html">Run Engine Manager API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../re_manager_api.html#asyncio-based-api-for-controlling-re-manager">Asyncio-Based API for Controlling RE Manager</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../re_manager_api.html#thread-based-api-for-controlling-re-manager">Thread-Based API for Controlling RE Manager</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bluesky_queueserver.ZMQCommSendThreads.html">bluesky_queueserver.ZMQCommSendThreads</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">bluesky_queueserver.ZMQCommSendThreads.send_message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bluesky_queueserver.ZMQCommSendThreads.send_message"><code class="docutils literal notranslate"><span class="pre">ZMQCommSendThreads.send_message()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="bluesky_queueserver.ZMQCommSendThreads.close.html">bluesky_queueserver.ZMQCommSendThreads.close</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../re_manager_api.html#supported-methods-for-zmq-communication-api">Supported Methods For ZMQ Communication API</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Related Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-queueserver-api">Bluesky Queue Server API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-httpserver">Bluesky HTTP Server</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-widgets">Bluesky Widgets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky">Bluesky</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/ophyd">Ophyd</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/databroker">Data Broker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">bluesky-queueserver</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../re_manager_api.html">Run Engine Manager API</a></li>
      <li class="breadcrumb-item active">bluesky_queueserver.ZMQCommSendThreads.send_message</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/bluesky_queueserver.ZMQCommSendThreads.send_message.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bluesky-queueserver-zmqcommsendthreads-send-message">
<h1>bluesky_queueserver.ZMQCommSendThreads.send_message<a class="headerlink" href="#bluesky-queueserver-zmqcommsendthreads-send-message" title="Permalink to this heading">¶</a></h1>
<dl class="py method">
<dt class="sig sig-object py" id="bluesky_queueserver.ZMQCommSendThreads.send_message">
<span class="sig-prename descclassname"><span class="pre">ZMQCommSendThreads.</span></span><span class="sig-name descname"><span class="pre">send_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raise_exceptions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bluesky_queueserver/manager/comms.html#ZMQCommSendThreads.send_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bluesky_queueserver.ZMQCommSendThreads.send_message" title="Permalink to this definition">¶</a></dt>
<dd><p>Send message to ZMQ server and wait for the response. The message must contain
a name of a method supported by the server and a dictionary of parameters that
are required by the method. In case of communication error (timeout), the function
returns error message or raises <code class="docutils literal notranslate"><span class="pre">CommTimeoutError</span></code> exception depending on
the values <code class="docutils literal notranslate"><span class="pre">raise_exceptions</span></code> parameter in this function and class constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>method: str</strong></dt><dd><p>Name of the method to be invoked on the server. The method must be supported
by the server.</p>
</dd>
<dt><strong>params: dict or None</strong></dt><dd><p>Dictionary of parameters passed to the method. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then an empty dictionary
is passed to the server.</p>
</dd>
<dt><strong>timeout: int or None</strong></dt><dd><p>Read timeout (in ms) for the single request. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then the default
timeout is used.</p>
</dd>
<dt><strong>cb: callable or None</strong></dt><dd><p>Callback function. If None, then the function blocks until communication is complete.
Otherwise the function exits after the message is sent to the server. The callback
is called when the response is received or timeout occurs.
Function signature is <code class="docutils literal notranslate"><span class="pre">cb(msg:</span> <span class="pre">dict,</span> <span class="pre">msg_err:</span> <span class="pre">str)</span></code>. Here <code class="docutils literal notranslate"><span class="pre">msg</span></code> is the dictionary
of the parameters returned by the server and <code class="docutils literal notranslate"><span class="pre">msg_err</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> if communication
was successful and contains error message in case communication failed (timeout).</p>
</dd>
<dt><strong>raise_exceptions: bool or None</strong></dt><dd><p>The flag indicates if exception should be raised in case of communication error
(such as timeout). If <code class="docutils literal notranslate"><span class="pre">False</span></code>, then error message is returned instead.
If None, then the field value <code class="docutils literal notranslate"><span class="pre">self._raise_timeout_exceptions</span></code> is used to
determine if the exception needs to be raised. Non-blocking calls do not raise
the exception. Instead, callback function receives the error message as one of the
parameters</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt>dict</dt><dd><p>Message returned by the server.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>CommTimeoutError</dt><dd><p>Raised if communication error occurs and <code class="docutils literal notranslate"><span class="pre">raise_exceptions</span></code> is set <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bluesky_queueserver.ZMQCommSendThreads.html" class="btn btn-neutral float-left" title="bluesky_queueserver.ZMQCommSendThreads" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bluesky_queueserver.ZMQCommSendThreads.close.html" class="btn btn-neutral float-right" title="bluesky_queueserver.ZMQCommSendThreads.close" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2021, Brookhaven National Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>