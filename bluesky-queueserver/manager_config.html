<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RE Manager Configuration &mdash; bluesky-queueserver 0.0.18.post180+g3923d2a documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="qserver : Quick Introduction" href="qserver_quick_ref.html" />
    <link rel="prev" title="Command-Line Tools" href="cli_tools.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            bluesky-queueserver
          </a>
              <div class="version">
                0.0.18.post180+g3923d2a
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bluesky/bluesky-queueserver">Source Code on GitHub</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction_for_users.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_queue_server.html">Using the Queue Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="features_and_config.html">Features and Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup_code.html">Organizing Bluesky Startup Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipython.html">Using IPython Startup Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="item_validation.html">Validation of Queue Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="plan_annotation.html">Annotating Bluesky Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli_tools.html">Command-Line Tools</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RE Manager Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cli-parameters">CLI Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-files">Configuration Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#network">network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#startup">startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operation">operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#worker">worker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-engine">run_engine</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="qserver_quick_ref.html"><em>qserver</em> : Quick Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Application Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="interacting_with_qs.html">Interacting with Queue Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="re_manager_api.html">Run Engine Manager API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Related Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-queueserver-api">Bluesky Queue Server API</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-httpserver">Bluesky HTTP Server</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky-widgets">Bluesky Widgets</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/bluesky">Bluesky</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/ophyd">Ophyd</a></li>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io/databroker">Data Broker</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">bluesky-queueserver</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">RE Manager Configuration</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/manager_config.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="re-manager-configuration">
<span id="manager-configuration"></span><h1>RE Manager Configuration<a class="headerlink" href="#re-manager-configuration" title="Permalink to this heading">¶</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>The default settings of RE Manager are optimized for running basic tutorials and
simple demos using built-in startup scripts with simulated plans and devices,
and are not sufficient for development and production deployments. The parameter
values may be passed to RE Manager using environment variables, config file(s)
and CLI parameters. Parameters passed using config file(s) override the parameters
passed using environment variables. Parameters passed using CLI override all other
parameters.</p>
</section>
<section id="cli-parameters">
<h2>CLI Parameters<a class="headerlink" href="#cli-parameters" title="Permalink to this heading">¶</a></h2>
<p>Comprehensive list of CLI parameters of RE Manager may be found in the documentation
for <a class="reference internal" href="cli_tools.html#start-re-manager-cli"><span class="std std-ref">start-re-manager</span></a>. Note, that not setting parameters such as <code class="docutils literal notranslate"><span class="pre">--keep-re</span></code>
or <code class="docutils literal notranslate"><span class="pre">--use-persistent-metadata</span></code> does not disable the respective features if
they are enabled in the config file.</p>
</section>
<section id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading">¶</a></h2>
<p>Several parameters can be passed to RE Manager using environment variables:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_CONFIG</span></code> - a path to a single config file or a directory containing multiple
config files. The path can be also passed using <code class="docutils literal notranslate"><span class="pre">--config</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_ZMQ_CONTROL_ADDRESS_FOR_SERVER</span></code> - address of the 0MQ REQ-REP socket used
for control communication channel. The address may also be set in the config file or
passed using <code class="docutils literal notranslate"><span class="pre">--zmq-control-addr</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_ZMQ_INFO_ADDRESS_FOR_SERVER</span></code> - address of the 0MQ PUB-SUB socked used to
publish console output. The address may also be set in the config file or passed using
<code class="docutils literal notranslate"><span class="pre">--zmq-info-addr</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_EMERGENCY_LOCK_KEY_FOR_SERVER</span></code> - emergency lock key used to unlock RE Manager
if the lock key set by a user is lost. The key may also be set in the config file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_ZMQ_PRIVATE_KEY_FOR_SERVER</span></code> - private key used to decrypt control messages sent
by clients. <strong>Using environment variables may be preferred way of setting the public key.</strong>
Alternatively, the private key may be set in the config file by referencing a different
environment variable. Explicitly listing security keys in the config file is not recommended.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_USE_IPYTHON_KERNEL</span></code> - tells RE Manager whether to start tbe worker in IPython mode
(start IPython kernel) or use plain Python worker. Boolean value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QSERVER_IPYTHON_KERNEL_IP</span></code> - sets IP address for IPython kernel opened in the worker process.
The values are <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, <code class="docutils literal notranslate"><span class="pre">auto</span></code> (automatically find network IP address of the host running
the worker) or valid network IP address of the host. If the address is <code class="docutils literal notranslate"><span class="pre">localhost</span></code> or
<code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>, the clients running on remote hosts will not be able to connect to the kernel.</p></li>
</ul>
</div></blockquote>
</section>
<section id="configuration-files">
<h2>Configuration Files<a class="headerlink" href="#configuration-files" title="Permalink to this heading">¶</a></h2>
<p>The example of a configuration file (e.g. <code class="docutils literal notranslate"><span class="pre">qserver_config.yml</span></code>) that contains all sections and
most of the supported parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>network:
  zmq_control_addr: tcp://*:60615
  zmq_private_key: ${CUSTOM_EV_FOR_PRIVATE_KEY}
  zmq_info_addr: tcp://*:60625
  zmq_publish_console: true
  redis_addr: localhost:6379
startup:
  keep_re: true
  startup_dir: ~/.ipython/profile_collection/startup
  existing_plans_and_devices_path: ~/.ipython/profile_collection/startup
  user_group_permissions_path: ~/.ipython/profile_collection/startup
operation:
  print_console_output: true
  console_logging_level: NORMAL
  update_existing_plans_and_devices: ENVIRONMENT_OPEN
  user_group_permissions_reload: ON_REQUEST
  emergency_lock_key: custom_lock_key
worker:
  use_ipython_kernel: true
  ipython_kernel_ip: auto
  ipython_matplotlib: qt5
run_engine:
  use_persistent_metadata: true
  kafka_server: 127.0.0.1:9092
  kafka_topic: custom_topic_name
  zmq_data_proxy_addr: localhost:5567
  databroker_config: TST
</pre></div>
</div>
<p>All the parameters are optional. The default values or values passed using environment
variables are used for missing parameters. The configuration may be split into multiple YML
files and the path to the directory containing the files passed to RE Manager.</p>
<p>Assuming the configuration is saved in <code class="docutils literal notranslate"><span class="pre">~/.config/qserver/qserver_config.yml</span></code>,
RE Manager can be started as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ start-re-manager --config=~/.config/qserver/qserver_config.yml
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ QSERVER_CONFIG=~/.config/qserver/qserver_config.yml start-re-manager
</pre></div>
</div>
<p>Additional CLI parameters override the respective configuration or default parameters.</p>
<section id="network">
<h3>network<a class="headerlink" href="#network" title="Permalink to this heading">¶</a></h3>
<p>Parameters that define for network settings used by RE Manager:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">zmq_control_addr</span></code> - address of the 0MQ REQ-REP socket used  for control communication channel.
The address may also be set using environment variable <code class="docutils literal notranslate"><span class="pre">QSERVER_ZMQ_CONTROL_ADDRESS_FOR_SERVER</span></code>
or passed using <code class="docutils literal notranslate"><span class="pre">--zmq-control-addr</span></code> CLI parameter. Address format: <code class="docutils literal notranslate"><span class="pre">tcp://*:60615</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zmq_private_key</span></code> - private key used to decrypt control messages sent by clients (40 characters).
The value should be a string referencing an environment variable (e.g. <code class="docutils literal notranslate"><span class="pre">${CUSTOM_EV_NAME}</span></code>)
or a string containing a public key (not recommended). The private key may also be set
using environment variable <code class="docutils literal notranslate"><span class="pre">QSERVER_ZMQ_PRIVATE_KEY_FOR_SERVER</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zmq_info_addr</span></code> - address of the 0MQ PUB-SUB socked used to publish console output. The address
may also be passed using environment variable QSERVER_ZMQ_INFO_ADDRESS_FOR_SERVER or
<code class="docutils literal notranslate"><span class="pre">--zmq-info-addr</span></code> CLI parameter. Address format: <code class="docutils literal notranslate"><span class="pre">tcp://*:60625</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zmq_publish_console</span></code> - enable or disable publishing console output to the socket set using
<code class="docutils literal notranslate"><span class="pre">zmq_info_addr</span></code>. Accepted values are <code class="docutils literal notranslate"><span class="pre">true</span></code> and <code class="docutils literal notranslate"><span class="pre">false</span></code>. The value can also passed using
<code class="docutils literal notranslate"><span class="pre">--zmq-publish-console</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">redis_addr</span></code> - the address of Redis server, e.g. <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>, <code class="docutils literal notranslate"><span class="pre">localhost:6379</span></code>.
The value may also be passed using <code class="docutils literal notranslate"><span class="pre">--redis-addr</span></code> CLI parameter.</p></li>
</ul>
</section>
<section id="startup">
<h3>startup<a class="headerlink" href="#startup" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>Parameters that control opening the worker environment and handling of startup files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">keep_re</span></code> - keep and use the instance of the Run Engine created in startup scripts (<code class="docutils literal notranslate"><span class="pre">true</span></code>)
or delete the instance of the Run Engine created in startup scripts and create a new instance
based on settings in <a class="reference internal" href="#config-file-run-engine"><span class="std std-ref">run_engine</span></a> (<code class="docutils literal notranslate"><span class="pre">false</span></code>). The built-in configuration
options for Run Engine are very limited and it is assumed that Run Engine is created in startup
scripts in production deployments.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">startup_dir</span></code>, <code class="docutils literal notranslate"><span class="pre">startup_profile</span></code>, <code class="docutils literal notranslate"><span class="pre">startup_module</span></code> and <code class="docutils literal notranslate"><span class="pre">startup_script</span></code> are mutually
exclusive parameters that specify a path to startup directory, name of the startup IPython
profile, name of installed Python module containing startup code or a path to startup script.
The values may be passed using <code class="docutils literal notranslate"><span class="pre">--startup-dir</span></code>, <code class="docutils literal notranslate"><span class="pre">--startup-profile</span></code>, <code class="docutils literal notranslate"><span class="pre">--startup-module</span></code>
or <code class="docutils literal notranslate"><span class="pre">--startup-script</span></code> CLI parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">existing_plans_and_devices_path</span></code> - path to file that contains the list of existing plans
and devices. The path may be a relative path to the directory containing startup files.
If the path is directory, then the default file name ‘existing_plans_and_devices.yaml’ is used.
The value may also be passed using <code class="docutils literal notranslate"><span class="pre">--existing-plans-devices</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user_group_permissions_path</span></code> - path to a file that contains lists of plans and devices
available to users. The path may be a relative path to the profile collection directory.
If the path is a directory, then the default file name ‘user_group_permissions.yaml’ is used.
The value may also be passed using <code class="docutils literal notranslate"><span class="pre">--user-group-permissions</span></code> CLI parameter.</p></li>
</ul>
</div></blockquote>
</section>
<section id="operation">
<h3>operation<a class="headerlink" href="#operation" title="Permalink to this heading">¶</a></h3>
<p>The parameters that define run-time behavior of RE Manager:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">print_console_output</span></code> - enables (<code class="docutils literal notranslate"><span class="pre">true</span></code>) or disables (<code class="docutils literal notranslate"><span class="pre">false</span></code>) printing of console
output in the terminal. The value may also be set using <code class="docutils literal notranslate"><span class="pre">--console-output</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">console_logging_level</span></code> - sets logging level used by RE Manager. The accepted values are
<code class="docutils literal notranslate"><span class="pre">'SILENT'</span></code>, <code class="docutils literal notranslate"><span class="pre">'QUIET'</span></code> <code class="docutils literal notranslate"><span class="pre">'NORMAL'</span></code> (default) and <code class="docutils literal notranslate"><span class="pre">'VERBOSE'</span></code>. The non-default value
may also be selected using <code class="docutils literal notranslate"><span class="pre">--silent</span></code>, <code class="docutils literal notranslate"><span class="pre">--quiet</span></code> and <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> CLI parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">update_existing_plans_and_devices</span></code> - select when the list of existing plans and devices
stored on disk should be updated. The available choices are not to update the stored
lists (<code class="docutils literal notranslate"><span class="pre">'NEVER'</span></code>), update the lists when the environment is opened
(<code class="docutils literal notranslate"><span class="pre">'ENVIRONMENT_OPEN'</span></code>, default) or update the lists each the lists are changed (<code class="docutils literal notranslate"><span class="pre">'ALWAYS'</span></code>).
The value may be set using <code class="docutils literal notranslate"><span class="pre">--update-existing-plans-devices</span></code> parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user_group_permissions_reload</span></code> - select when user group permissions are reloaded from disk.
Options: <code class="docutils literal notranslate"><span class="pre">'NEVER'</span></code> - RE Manager never attempts to load permissions from disk file.
If permissions fail to load from Redis, they are loaded from disk at the first startup
of RE Manager or on request. <code class="docutils literal notranslate"><span class="pre">'ON_REQUEST'</span></code> - permissions are loaded from disk file when
requested by ‘permission_reload’ API call. <code class="docutils literal notranslate"><span class="pre">'ON_STARTUP'</span></code> (default) - permissions are loaded
from disk each time RE Manager is started or when ‘permission_reload’ API request is received.
The value may be set using <code class="docutils literal notranslate"><span class="pre">--user-group-permissions-reload</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">emergency_lock_key</span></code> - emergency lock key used to unlock RE Manager if the lock key set by
a user is lost. The key may also be set using environment variable
<code class="docutils literal notranslate"><span class="pre">QSERVER_EMERGENCY_LOCK_KEY_FOR_SERVER</span></code>.</p></li>
</ul>
</section>
<section id="worker">
<span id="config-file-worker"></span><h3>worker<a class="headerlink" href="#worker" title="Permalink to this heading">¶</a></h3>
<p>The parameters that define configuration of RE Worker.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">use_ipython_kernel</span></code> - enable/disable IPython mode (<code class="docutils literal notranslate"><span class="pre">true/false</span></code>, default <code class="docutils literal notranslate"><span class="pre">false</span></code>).
In IPython mode the worker creates IPython kernel used to run the worker environment.
If IPython mode is disabled, the worker environment is run using plain Python. The option
can also be set using <code class="docutils literal notranslate"><span class="pre">--use-ipython-kernel</span></code> CLI parameter or <code class="docutils literal notranslate"><span class="pre">QSERVER_USE_IPYTHON_KERNEL</span></code>
environment variable. See <a class="reference internal" href="using_queue_server.html#worker-ipython-kernel"><span class="std std-ref">Running RE Worker with IPython Kernel</span></a> for more details.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipython_kernel_ip</span></code> - set IP address of IPython kernel. The option is ignored if worker
is running not in IPython mode. The supported values are <code class="docutils literal notranslate"><span class="pre">localhost</span></code>, <code class="docutils literal notranslate"><span class="pre">auto</span></code> or valid
network IP address of the host. If the IP address is <code class="docutils literal notranslate"><span class="pre">localhost</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>,
the clients running on remote hosts can not connect to the kernel. If the value is <code class="docutils literal notranslate"><span class="pre">auto</span></code>,
the worker attempts to find network address of the host. The option can also be set using
<code class="docutils literal notranslate"><span class="pre">--ipython-kernel-ip</span></code> CLI parameter or <code class="docutils literal notranslate"><span class="pre">QSERVER_IPYTHON_KERNEL_IP</span></code> environment variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ipython_matplotlib</span></code> - set Matplotlib backend for IPython kernel. The parameter is ignored
if the worker is not in IPython mode. The parameter accepts the set of values identical to
the parameter <code class="docutils literal notranslate"><span class="pre">--matplotlib</span></code> of <code class="docutils literal notranslate"><span class="pre">IPython</span></code>. Typical values are <code class="docutils literal notranslate"><span class="pre">agg</span></code> (default, disables
plotting) or <code class="docutils literal notranslate"><span class="pre">qt5</span></code> (plotting using Qt5 backend). The option can also be set using
<code class="docutils literal notranslate"><span class="pre">--ipython-matplotlib</span></code> CLI parameter.</p></li>
</ul>
</section>
<section id="run-engine">
<span id="config-file-run-engine"></span><h3>run_engine<a class="headerlink" href="#run-engine" title="Permalink to this heading">¶</a></h3>
<p>The parameters that define configuration of Run Engine created by RE Manager and some basic
subscriptions for the Run Engine. The configuration options are very limited and primarily
intended for use in quick demos. It is assumed that in production systems, Run Engine and
its subscriptions are fully defined in startup scripts and this section is skipped completely.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">use_persistent_metadata</span></code> - use msgpack-based persistent storage for scan metadata
(<code class="docutils literal notranslate"><span class="pre">true/false</span></code>). The option can also be enabled using <code class="docutils literal notranslate"><span class="pre">--use-persistent-metadata</span></code> CLI
parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kafka_server</span></code> - bootstrap server to for Kafka Run Engine callback, e.g. <code class="docutils literal notranslate"><span class="pre">127.0.0.1:9092</span></code>.
The value can be set using <code class="docutils literal notranslate"><span class="pre">--kafka-server</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kafka_topic</span></code> - kafka topic of Kafka Run Engine callback. The value can also be set using
<code class="docutils literal notranslate"><span class="pre">--kafka-topic</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zmq_data_proxy_addr</span></code> - address of ZMQ proxy used to publish data by ZMQ Run Engine callback.
The value can also be set using <code class="docutils literal notranslate"><span class="pre">--zmq-data-proxy-addr</span></code> CLI parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">databroker_config</span></code> -  databroker configuration (e.g. <code class="docutils literal notranslate"><span class="pre">'srx'</span></code>) used by Databroker
callback. The value can also be set using <code class="docutils literal notranslate"><span class="pre">--databroker-config</span></code> CLI parameter.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cli_tools.html" class="btn btn-neutral float-left" title="Command-Line Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="qserver_quick_ref.html" class="btn btn-neutral float-right" title="qserver : Quick Introduction" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2021, Brookhaven National Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>