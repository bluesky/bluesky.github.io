
<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Single EPICS PVs &#8212; ophyd  documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=b3ba4146"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../_static/design-tabs.js?v=36754332"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/tutorials/single-PV';</script>
    <link rel="icon" href="../../_static/ophyd_favicon.svg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Group Signals into Devices" href="device.html" />
    <link rel="prev" title="Installation Tutorial" href="install.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/bluesky_ophyd_logo.svg" class="logo__image only-light" alt="ophyd  documentation - Home"/>
    <script>document.write(`<img src="../../_static/bluesky_ophyd_logo.svg" class="logo__image only-dark" alt="ophyd  documentation - Home"/>`);</script>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        User Guide
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://blueskyproject.io">
                    Bluesky Project
                  </a>
                </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/bluesky/ophyd" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/ophyd" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-cube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/NSLS-II/DAMA" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-person-circle-question fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../index.html">
                        User Guide
                      </a>
                    </li>
                

                <li class="nav-item">
                  <a class="nav-link nav-external" href="https://blueskyproject.io">
                    Bluesky Project
                  </a>
                </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/bluesky/ophyd" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/ophyd" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-cube fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">PyPI</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://gitter.im/NSLS-II/DAMA" title="Gitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fas fa-person-circle-question fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Gitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Tutorial</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Single EPICS PVs</a></li>
<li class="toctree-l1"><a class="reference internal" href="device.html">Group Signals into Devices</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../how-to/pseudopositioner.html">Pseudopositioner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/docker.html">Docker setup</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Explanations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../explanations/relationship-to-epics.html">Relationship to EPICS</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../explanations/area-detector.html">Area Detectors</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.html">ophyd.areadetector.base.ADBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.visualize_asyn_digraph.html">ophyd.areadetector.base.ADBase.visualize_asyn_digraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.get_plugin_by_asyn_port.html">ophyd.areadetector.base.ADBase.get_plugin_by_asyn_port</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.get_asyn_port_dictionary.html">ophyd.areadetector.base.ADBase.get_asyn_port_dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.get_asyn_digraph.html">ophyd.areadetector.base.ADBase.get_asyn_digraph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.validate_asyn_ports.html">ophyd.areadetector.base.ADBase.validate_asyn_ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADBase.missing_plugins.html">ophyd.areadetector.base.ADBase.missing_plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.html">ophyd.areadetector.filestore_mixins.FileStoreBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStorePluginBase.html">ophyd.areadetector.filestore_mixins.FileStorePluginBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.generate_datum.html">ophyd.areadetector.filestore_mixins.FileStoreBase.generate_datum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.write_path_template.html">ophyd.areadetector.filestore_mixins.FileStoreBase.write_path_template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.reg_root.html">ophyd.areadetector.filestore_mixins.FileStoreBase.reg_root</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.fs_root.html">ophyd.areadetector.filestore_mixins.FileStoreBase.fs_root</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreBase.read_path_template.html">ophyd.areadetector.filestore_mixins.FileStoreBase.read_path_template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStorePluginBase.make_filename.html">ophyd.areadetector.filestore_mixins.FileStorePluginBase.make_filename</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreTIFF.html">ophyd.areadetector.filestore_mixins.FileStoreTIFF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreHDF5.html">ophyd.areadetector.filestore_mixins.FileStoreHDF5</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreTIFFSquashing.html">ophyd.areadetector.filestore_mixins.FileStoreTIFFSquashing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreIterativeWrite.html">ophyd.areadetector.filestore_mixins.FileStoreIterativeWrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreHDF5IterativeWrite.html">ophyd.areadetector.filestore_mixins.FileStoreHDF5IterativeWrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.filestore_mixins.FileStoreTIFFIterativeWrite.html">ophyd.areadetector.filestore_mixins.FileStoreTIFFIterativeWrite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.DetectorBase.html">ophyd.areadetector.detectors.DetectorBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.DetectorBase.dispatch.html">ophyd.areadetector.detectors.DetectorBase.dispatch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.DetectorBase.generate_datum.html">ophyd.areadetector.detectors.DetectorBase.generate_datum</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.DetectorBase.make_data_key.html">ophyd.areadetector.detectors.DetectorBase.make_data_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.trigger_mixins.TriggerBase.html">ophyd.areadetector.trigger_mixins.TriggerBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.trigger_mixins.SingleTrigger.html">ophyd.areadetector.trigger_mixins.SingleTrigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.trigger_mixins.MultiTrigger.html">ophyd.areadetector.trigger_mixins.MultiTrigger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.PluginBase.html">ophyd.areadetector.plugins.PluginBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.ColorConvPlugin.html">ophyd.areadetector.plugins.ColorConvPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.ImagePlugin.html">ophyd.areadetector.plugins.ImagePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.OverlayPlugin.html">ophyd.areadetector.plugins.OverlayPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.ProcessPlugin.html">ophyd.areadetector.plugins.ProcessPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.ROIPlugin.html">ophyd.areadetector.plugins.ROIPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.StatsPlugin.html">ophyd.areadetector.plugins.StatsPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.TransformPlugin.html">ophyd.areadetector.plugins.TransformPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.FilePlugin.html">ophyd.areadetector.plugins.FilePlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.HDF5Plugin.html">ophyd.areadetector.plugins.HDF5Plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.JPEGPlugin.html">ophyd.areadetector.plugins.JPEGPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.MagickPlugin.html">ophyd.areadetector.plugins.MagickPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.NetCDFPlugin.html">ophyd.areadetector.plugins.NetCDFPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.NexusPlugin.html">ophyd.areadetector.plugins.NexusPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.plugins.TIFFPlugin.html">ophyd.areadetector.plugins.TIFFPlugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.AreaDetector.html">ophyd.areadetector.detectors.AreaDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.AdscDetector.html">ophyd.areadetector.detectors.AdscDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.Andor3Detector.html">ophyd.areadetector.detectors.Andor3Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.AndorDetector.html">ophyd.areadetector.detectors.AndorDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.BrukerDetector.html">ophyd.areadetector.detectors.BrukerDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.FirewireLinDetector.html">ophyd.areadetector.detectors.FirewireLinDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.FirewireWinDetector.html">ophyd.areadetector.detectors.FirewireWinDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.LightFieldDetector.html">ophyd.areadetector.detectors.LightFieldDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.Mar345Detector.html">ophyd.areadetector.detectors.Mar345Detector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.MarCCDDetector.html">ophyd.areadetector.detectors.MarCCDDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PSLDetector.html">ophyd.areadetector.detectors.PSLDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PerkinElmerDetector.html">ophyd.areadetector.detectors.PerkinElmerDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PilatusDetector.html">ophyd.areadetector.detectors.PilatusDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PixiradDetector.html">ophyd.areadetector.detectors.PixiradDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PointGreyDetector.html">ophyd.areadetector.detectors.PointGreyDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.ProsilicaDetector.html">ophyd.areadetector.detectors.ProsilicaDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.PvcamDetector.html">ophyd.areadetector.detectors.PvcamDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.RoperDetector.html">ophyd.areadetector.detectors.RoperDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.SimDetector.html">ophyd.areadetector.detectors.SimDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.detectors.URLDetector.html">ophyd.areadetector.detectors.URLDetector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.CamBase.html">ophyd.areadetector.cam.CamBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.AdscDetectorCam.html">ophyd.areadetector.cam.AdscDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.Andor3DetectorCam.html">ophyd.areadetector.cam.Andor3DetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.AndorDetectorCam.html">ophyd.areadetector.cam.AndorDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.BrukerDetectorCam.html">ophyd.areadetector.cam.BrukerDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.FirewireLinDetectorCam.html">ophyd.areadetector.cam.FirewireLinDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.FirewireWinDetectorCam.html">ophyd.areadetector.cam.FirewireWinDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.LightFieldDetectorCam.html">ophyd.areadetector.cam.LightFieldDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.Mar345DetectorCam.html">ophyd.areadetector.cam.Mar345DetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.MarCCDDetectorCam.html">ophyd.areadetector.cam.MarCCDDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PSLDetectorCam.html">ophyd.areadetector.cam.PSLDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PcoDetectorCam.html">ophyd.areadetector.cam.PcoDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PcoDetectorIO.html">ophyd.areadetector.cam.PcoDetectorIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PcoDetectorSimIO.html">ophyd.areadetector.cam.PcoDetectorSimIO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PerkinElmerDetectorCam.html">ophyd.areadetector.cam.PerkinElmerDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PilatusDetectorCam.html">ophyd.areadetector.cam.PilatusDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PixiradDetectorCam.html">ophyd.areadetector.cam.PixiradDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PointGreyDetectorCam.html">ophyd.areadetector.cam.PointGreyDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.ProsilicaDetectorCam.html">ophyd.areadetector.cam.ProsilicaDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.PvcamDetectorCam.html">ophyd.areadetector.cam.PvcamDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.RoperDetectorCam.html">ophyd.areadetector.cam.RoperDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.SimDetectorCam.html">ophyd.areadetector.cam.SimDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.cam.URLDetectorCam.html">ophyd.areadetector.cam.URLDetectorCam</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.EpicsSignalWithRBV.html">ophyd.areadetector.base.EpicsSignalWithRBV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ADComponent.html">ophyd.areadetector.base.ADComponent</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.base.ad_group.html">ophyd.areadetector.base.ad_group</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/status.html">Status objects (Futures)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanations/staging.html">Stage and Unstage</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/core.html">Core</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.StatusBase.html">ophyd.status.StatusBase</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.Status.html">ophyd.status.Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.DeviceStatus.html">ophyd.status.DeviceStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.MoveStatus.html">ophyd.status.MoveStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.SubscriptionStatus.html">ophyd.status.SubscriptionStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.areadetector.trigger_mixins.ADTriggerStatus.html">ophyd.areadetector.trigger_mixins.ADTriggerStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.status.wait.html">ophyd.status.wait</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject.html">ophyd.ophydobj.OphydObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject.event_types.html">ophyd.ophydobj.OphydObject.event_types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject.subscribe.html">ophyd.ophydobj.OphydObject.subscribe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject.unsubscribe.html">ophyd.ophydobj.OphydObject.unsubscribe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject.clear_sub.html">ophyd.ophydobj.OphydObject.clear_sub</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject._run_subs.html">ophyd.ophydobj.OphydObject._run_subs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.ophydobj.OphydObject._reset_sub.html">ophyd.ophydobj.OphydObject._reset_sub</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/builtin-devices.html">Devices with Built-in Support</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.epics_motor.EpicsMotor.html">ophyd.epics_motor.EpicsMotor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.epics_motor.MotorBundle.html">ophyd.epics_motor.MotorBundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.scaler.EpicsScaler.html">ophyd.scaler.EpicsScaler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.scaler.ScalerCH.html">ophyd.scaler.ScalerCH</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.mca.EpicsMCARecord.html">ophyd.mca.EpicsMCARecord</a></li>
<li class="toctree-l2"><a class="reference internal" href="../generated/ophyd.mca.EpicsDXP.html">ophyd.mca.EpicsDXP</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/signals.html">Signals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/positioners.html">Positioners</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/logging.html">Debugging and Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/release_notes.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Single EPICS PVs</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="single-epics-pvs">
<h1>Single EPICS PVs<a class="headerlink" href="#single-epics-pvs" title="Permalink to this heading">#</a></h1>
<p>In this tutorial we will read, write, and monitor an EPICS PV in ophyd.</p>
<section id="set-up-for-tutorial">
<h2>Set up for tutorial<a class="headerlink" href="#set-up-for-tutorial" title="Permalink to this heading">#</a></h2>
<p>Before you begin, install <code class="docutils literal notranslate"><span class="pre">ophyd</span></code>, <code class="docutils literal notranslate"><span class="pre">pyepics</span></code>, <code class="docutils literal notranslate"><span class="pre">bluesky</span></code>, and <code class="docutils literal notranslate"><span class="pre">caproto</span></code>,
following the <a class="reference internal" href="install.html"><span class="doc">Installation Tutorial</span></a>.</p>
<p>We’ll start this simulated hardware that implements a <a class="reference external" href="https://en.wikipedia.org/wiki/Random_walk">random walk</a>. It has
just two PVs. One is a tunable parameter, <code class="docutils literal notranslate"><span class="pre">random_walk:dt</span></code>, the time between
steps. The other is <code class="docutils literal notranslate"><span class="pre">random_walk:x</span></code>, the current position of the random
walker.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>caproto.ioc_examples.random_walk<span class="w"> </span>--list-pvs
</pre></div>
</div>
<p>Start your favorite interactive Python environment, such as <code class="docutils literal notranslate"><span class="pre">ipython</span></code> or
<code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">lab</span></code>.</p>
</section>
<section id="connect-to-a-pv-from-ophyd">
<h2>Connect to a PV from Ophyd<a class="headerlink" href="#connect-to-a-pv-from-ophyd" title="Permalink to this heading">#</a></h2>
<p>Let’s connect to the PV <code class="docutils literal notranslate"><span class="pre">random_walk:dt</span></code> from Ophyd. We need two pieces of
information:</p>
<ul class="simple">
<li><p>The PV name, <code class="docutils literal notranslate"><span class="pre">random_walk:dt</span></code>.</p></li>
<li><p>A human-friendly name. This name is used to label the readings and will be
used in any downstream data analysis or file-writing code. We might choose,
for example, <code class="docutils literal notranslate"><span class="pre">time_delta</span></code>.</p></li>
</ul>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">ophyd.signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">EpicsSignal</span>

<span class="gp">In [2]: </span><span class="n">time_delta</span> <span class="o">=</span> <span class="n">EpicsSignal</span><span class="p">(</span><span class="s2">&quot;random_walk:dt&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;time_delta&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is <em>conventional</em> to name the Python variable on the left the same as the
value of <code class="docutils literal notranslate"><span class="pre">name</span></code>, but not required. That is, this is conventional…</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">EpicsSignal</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>…but all of these are also allowed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">EpicsSignal</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>  <span class="c1"># local variable different from name</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">EpicsSignal</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;some name with spaces in it&quot;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">EpicsSignal</span><span class="p">(</span><span class="s2">&quot;...&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;b&quot;</span><span class="p">)</span>  <span class="c1"># two local variables</span>
</pre></div>
</div>
</div>
<p>Next let’s connect to <code class="docutils literal notranslate"><span class="pre">random_walk:x</span></code>. It happens that this PV is not
writable—any writes would be rejected by EPICS—so we should use a read-only
EpicsSignal, <code class="xref py py-class docutils literal notranslate"><span class="pre">EPICSSignalRO</span></code>, to represent it in in ophyd. In
EPICS, you just have to “know” this about your hardware. Fortunately if, in our
ignorance,  we used writable <code class="xref py py-class docutils literal notranslate"><span class="pre">EpicsSignal</span></code> instead, we could
still use it to read the PV. It would just have a vestigial <code class="docutils literal notranslate"><span class="pre">set()</span></code> method
that wouldn’t work.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">ophyd.signal</span><span class="w"> </span><span class="kn">import</span> <span class="n">EpicsSignalRO</span>

<span class="gp">In [4]: </span><span class="n">x</span> <span class="o">=</span> <span class="n">EpicsSignalRO</span><span class="p">(</span><span class="s2">&quot;random_walk:x&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="use-it-with-the-bluesky-runengine">
<h2>Use it with the Bluesky RunEngine<a class="headerlink" href="#use-it-with-the-bluesky-runengine" title="Permalink to this heading">#</a></h2>
<p>The signals can be used by the Bluesky RunEngine. Let’s configure a RunEngine
to print a table.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">bluesky</span><span class="w"> </span><span class="kn">import</span> <span class="n">RunEngine</span>

<span class="gp">In [6]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.callbacks</span><span class="w"> </span><span class="kn">import</span> <span class="n">LiveTable</span>

<span class="gp">In [7]: </span><span class="n">RE</span> <span class="o">=</span> <span class="n">RunEngine</span><span class="p">()</span>

<span class="gp">In [8]: </span><span class="n">token</span> <span class="o">=</span> <span class="n">RE</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">LiveTable</span><span class="p">([</span><span class="s2">&quot;time_delta&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">]))</span>
</pre></div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">time_delta</span></code> is writable, it can be scanned like a “motor”. It can
also be read like a “detector”. (In Bluesky, all things that are “motors” are
also “detectors”.)</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.plans</span><span class="w"> </span><span class="kn">import</span> <span class="n">count</span><span class="p">,</span> <span class="n">list_scan</span>

<span class="gp">In [10]: </span><span class="n">RE</span><span class="p">(</span><span class="n">count</span><span class="p">([</span><span class="n">time_delta</span><span class="p">]))</span>  <span class="c1"># Use as a &quot;detector&quot;.</span>


<span class="go">+-----------+------------+------------+</span>
<span class="go">|   seq_num |       time | time_delta |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">|         1 | 12:46:11.7 |          3 |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">generator count [&#39;57776494&#39;] (scan num: 1)</span>


<span class="gh">Out[10]: </span><span class="go">(&#39;57776494-1b4c-4d8b-a7fd-dcbe8dbf6246&#39;,)</span>

<span class="gp">In [11]: </span><span class="n">RE</span><span class="p">(</span><span class="n">list_scan</span><span class="p">([],</span> <span class="n">time_delta</span><span class="p">,</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]))</span>  <span class="c1"># Use as &quot;motor&quot;.</span>


<span class="go">+-----------+------------+------------+</span>
<span class="go">|   seq_num |       time | time_delta |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">|         1 | 12:46:11.8 |          0 |</span>
<span class="go">|         2 | 12:46:11.8 |          0 |</span>
<span class="go">|         3 | 12:46:11.8 |          1 |</span>
<span class="go">|         4 | 12:46:11.8 |          3 |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">generator list_scan [&#39;7633f5fe&#39;] (scan num: 2)</span>


<span class="gh">Out[11]: </span><span class="go">(&#39;7633f5fe-7985-483a-8008-dc81ddcae93f&#39;,)</span>
</pre></div>
</div>
<p>For the following example, set <code class="docutils literal notranslate"><span class="pre">time_delta</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.plan_stubs</span><span class="w"> </span><span class="kn">import</span> <span class="n">mv</span>

<span class="gp">In [13]: </span><span class="n">RE</span><span class="p">(</span><span class="n">mv</span><span class="p">(</span><span class="n">time_delta</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="gh">Out[13]: </span><span class="go">()</span>
</pre></div>
</div>
<p>We know that <code class="docutils literal notranslate"><span class="pre">x</span></code> represents a time-dependent variable. We can “poll” it at
regular intervals</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">RE</span><span class="p">(</span><span class="n">count</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">num</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mf">0.5</span><span class="p">))</span>  <span class="c1"># Read every 0.5 seconds.</span>


<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">|   seq_num |       time | time_delta |          x |</span>
<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">|         1 | 12:46:11.9 |            |          1 |</span>
<span class="go">|         2 | 12:46:12.4 |            |          1 |</span>
<span class="go">|         3 | 12:46:12.9 |            |          1 |</span>
<span class="go">|         4 | 12:46:13.4 |            |          1 |</span>
<span class="go">|         5 | 12:46:13.9 |            |         -0 |</span>
<span class="go">+-----------+------------+------------+------------+</span>
<span class="go">generator count [&#39;becf1489&#39;] (scan num: 3)</span>


<span class="gh">Out[14]: </span><span class="go">(&#39;becf1489-701d-4c1e-b204-7bf77615a207&#39;,)</span>
</pre></div>
</div>
<p>but this required us to choose an update frequency (<code class="docutils literal notranslate"><span class="pre">0.5</span></code>). It’s often better
to rely on the control system to <em>tell</em> us when a new value is available. In
this example, we accumulate updates for <code class="docutils literal notranslate"><span class="pre">x</span></code> whenever it changes.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">bluesky.plan_stubs</span><span class="w"> </span><span class="kn">import</span> <span class="n">monitor</span><span class="p">,</span> <span class="n">unmonitor</span><span class="p">,</span> <span class="n">open_run</span><span class="p">,</span> <span class="n">close_run</span><span class="p">,</span> <span class="n">sleep</span>

<span class="gp">In [16]: </span><span class="k">def</span><span class="w"> </span><span class="nf">monitor_x_for</span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="n">md</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">yield from</span> <span class="n">open_run</span><span class="p">(</span><span class="n">md</span><span class="p">)</span>  <span class="c1"># optional metadata</span>
<span class="gp">   ....: </span>    <span class="k">yield from</span> <span class="n">monitor</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;x_monitor&quot;</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">yield from</span> <span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>  <span class="c1"># Wait for readings to accumulate.</span>
<span class="gp">   ....: </span>    <span class="k">yield from</span> <span class="n">unmonitor</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">yield from</span> <span class="n">close_run</span><span class="p">()</span>
<span class="gp">   ....: </span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [17]: </span><span class="n">RE</span><span class="o">.</span><span class="n">unsubscribe</span><span class="p">(</span><span class="n">token</span><span class="p">)</span>  <span class="c1"># Remove the old table.</span>

<span class="gp">In [18]: </span><span class="n">RE</span><span class="p">(</span><span class="n">monitor_x_for</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">LiveTable</span><span class="p">([</span><span class="s2">&quot;x&quot;</span><span class="p">],</span> <span class="n">stream_name</span><span class="o">=</span><span class="s2">&quot;x_monitor&quot;</span><span class="p">))</span>


<span class="go">+-----------+------------+------------+</span>
<span class="go">|   seq_num |       time |          x |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">|         1 | 12:46:14.6 |         -0 |</span>
<span class="go">|         2 | 12:46:14.6 |         -0 |</span>
<span class="go">|         3 | 12:46:14.8 |         -0 |</span>
<span class="go">|         4 | 12:46:15.8 |         -0 |</span>
<span class="go">|         5 | 12:46:16.8 |          0 |</span>
<span class="go">+-----------+------------+------------+</span>
<span class="go">generator monitor_x_for [&#39;a4b46452&#39;] (scan num: 4)</span>


<span class="gh">Out[18]: </span><span class="go">(&#39;a4b46452-8b15-4426-8b8c-9cff98b23163&#39;,)</span>
</pre></div>
</div>
<p>If you are a scientist aiming to use Ophyd with the Bluesky Run Engine, you may
stop at this point or read on to learn more about how the Run Engine interacts
with these signals. If you are a controls engineer, the details that follow are
likely important to you.</p>
</section>
<section id="use-it-directly">
<h2>Use it directly<a class="headerlink" href="#use-it-directly" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These methods should <em>not</em> be called inside a Bluesky plan.
See [TODO link to explanation.]</p>
</div>
<section id="read">
<h3>Read<a class="headerlink" href="#read" title="Permalink to this heading">#</a></h3>
<p>The signal can be read. It return a dictionary with one item. The key is the
human-friendly <code class="docutils literal notranslate"><span class="pre">name</span></code> we specified. The value is another dictionary,
containing the <code class="docutils literal notranslate"><span class="pre">value</span></code> and the <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> of the reading from the control
system (in this case, EPICS).</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">time_delta</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gh">Out[19]: </span><span class="go">{&#39;time_delta&#39;: {&#39;value&#39;: 1.0, &#39;timestamp&#39;: 1744893971.969778}}</span>
</pre></div>
</div>
</section>
<section id="describe">
<h3>Describe<a class="headerlink" href="#describe" title="Permalink to this heading">#</a></h3>
<p>Additional metadata is available. This always includes the data type, shape,
and source (e.g.  PV). It may also include units and other metadata.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">time_delta</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="gh">Out[20]: </span>
<span class="go">{&#39;time_delta&#39;: {&#39;source&#39;: &#39;PV:random_walk:dt&#39;,</span>
<span class="go">  &#39;dtype&#39;: &#39;number&#39;,</span>
<span class="go">  &#39;shape&#39;: [],</span>
<span class="go">  &#39;units&#39;: &#39;&#39;,</span>
<span class="go">  &#39;lower_ctrl_limit&#39;: 0.0,</span>
<span class="go">  &#39;upper_ctrl_limit&#39;: 0.0,</span>
<span class="go">  &#39;precision&#39;: 0}}</span>
</pre></div>
</div>
</section>
<section id="set">
<h3>Set<a class="headerlink" href="#set" title="Permalink to this heading">#</a></h3>
<p>This signal is writable, so it can also be set.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [21]: </span><span class="n">time_delta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>  <span class="c1"># Set it to 10 and wait for it to get there.</span>
</pre></div>
</div>
<p>Sometimes hardware gets stuck or does not do what it is told, and so it is good
practice to put a timeout on how long you are willing to wait until deciding
that there is an error that needs to be handled somehow.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [22]: </span><span class="n">time_delta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Set it to 10 and wait up to 1 second.</span>
</pre></div>
</div>
<p>If the signal fails to arrive, a <code class="docutils literal notranslate"><span class="pre">TimeoutError</span></code> will be raised.</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">set(...)</span></code> starts the motion but does <em>not</em> wait for it to
complete. It is a fast, “non-blocking” operation. This enables you to run
code between starting a motion and completing it.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="n">status</span> <span class="o">=</span> <span class="n">time_delta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>

<span class="gp">In [24]: </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moving to 5...&quot;</span><span class="p">)</span>
<span class="go">Moving to 5...</span>

<span class="gp">In [25]: </span><span class="n">status</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="gp">In [26]: </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Moved to 5.&quot;</span><span class="p">)</span>
<span class="go">Moved to 5.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To move more than one signal in parallel, use the <a class="reference internal" href="../generated/ophyd.status.wait.html#ophyd.status.wait" title="ophyd.status.wait"><code class="xref py py-func docutils literal notranslate"><span class="pre">ophyd.status.wait()</span></code></a>
<em>function</em>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">ophyd.status</span><span class="w"> </span><span class="kn">import</span> <span class="n">wait</span>

<span class="c1"># Given signals a and b, set both in motion.</span>
<span class="n">status1</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">status2</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Wait for both to complete.</span>
<span class="n">wait</span><span class="p">(</span><span class="n">status1</span><span class="p">,</span> <span class="n">status2</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>For more on what you can do with <code class="docutils literal notranslate"><span class="pre">status</span></code>, see […].</p>
</section>
<section id="subscribe">
<h3>Subscribe<a class="headerlink" href="#subscribe" title="Permalink to this heading">#</a></h3>
<p>What’s the best way to read a signal that changes over time, like our <code class="docutils literal notranslate"><span class="pre">x</span></code>
signal?</p>
<p>First, set <code class="docutils literal notranslate"><span class="pre">time_delta</span></code> to a reasonable value like <code class="docutils literal notranslate"><span class="pre">1</span></code>. This controls the
update rate of <code class="docutils literal notranslate"><span class="pre">x</span></code> in our random walk simulation.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [27]: </span><span class="n">time_delta</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
</pre></div>
</div>
<p>We could poll the signal in a loop and collect N readings spaced T seconds
apart.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Don&#39;t do this.</span>
<span class="n">N</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">T</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="n">readings</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
    <span class="n">reading</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">readings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reading</span><span class="p">)</span>
</pre></div>
</div>
<p>There are two problems with this counterexample.</p>
<ol class="arabic simple">
<li><p>We might not know how often we need to check for updates.</p></li>
<li><p>We often want to watch <em>multiple</em> signals with different update rates, and
this pattern would quickly become messy.</p></li>
</ol>
<p>Alternatively, we can use <em>subscription</em>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [28]: </span><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">deque</span>

<span class="gp">In [29]: </span><span class="k">def</span><span class="w"> </span><span class="nf">accumulate</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">old_value</span><span class="p">,</span> <span class="n">timestamp</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="n">readings</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span> <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">}})</span>
<span class="gp">   ....: </span><span class="n">readings</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">   ....: </span><span class="n">x</span><span class="o">.</span><span class="n">subscribe</span><span class="p">(</span><span class="n">accumulate</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[29]: </span><span class="go">1</span>
</pre></div>
</div>
<p>When the control system has a new <code class="docutils literal notranslate"><span class="pre">reading</span></code> for us, it calls
<code class="docutils literal notranslate"><span class="pre">readings.append(reading)</span></code> from a background thread. If we do other work or
sleep for awhile and then check back on <code class="docutils literal notranslate"><span class="pre">readings</span></code> we’ll see that it has some
items in it.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [30]: </span><span class="n">readings</span>
<span class="gh">Out[30]: </span>
<span class="go">deque([{&#39;x&#39;: {&#39;value&#39;: 0.19053946670492317, &#39;timestamp&#39;: 1744893976.86146}},</span>
<span class="go">       {&#39;x&#39;: {&#39;value&#39;: 1.141853608934329, &#39;timestamp&#39;: 1744893977.862712}},</span>
<span class="go">       {&#39;x&#39;: {&#39;value&#39;: 0.65215165139506, &#39;timestamp&#39;: 1744893978.863843}},</span>
<span class="go">       {&#39;x&#39;: {&#39;value&#39;: 0.13916481085253962, &#39;timestamp&#39;: 1744893979.86601}}],</span>
<span class="go">      maxlen=5)</span>
</pre></div>
</div>
<p>It will keep the last <code class="docutils literal notranslate"><span class="pre">5</span></code>. We used a <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.deque" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">deque</span></code></a> instead of a
plain <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a> here because a <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref any docutils literal notranslate"><span class="pre">list</span></code></a> would grow without bound and, if left to
run long enough, consume all available memory, crashing the program.</p>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="install.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Installation Tutorial</p>
      </div>
    </a>
    <a class="right-next"
       href="device.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Group Signals into Devices</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">

  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-for-tutorial">Set up for tutorial</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#connect-to-a-pv-from-ophyd">Connect to a PV from Ophyd</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-it-with-the-bluesky-runengine">Use it with the Bluesky RunEngine</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-it-directly">Use it directly</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#read">Read</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#describe">Describe</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#set">Set</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subscribe">Subscribe</a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  
  <div class="tocsection editthispage">
    <a href="https://github.com/bluesky/ophyd/edit/master/docs/user/tutorials/single-PV.rst">
      <i class="fa-solid fa-pencil"></i>
      
      
        
          Edit on GitHub
        
      
    </a>
  </div>
</div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../../_sources/user/tutorials/single-PV.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2014, Brookhaven National Lab.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.14.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>