<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task &mdash; Bluesky Queue Server API 0.post1+ga89d336 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="bluesky_queueserver_api.zmq.REManagerAPI.re_runs" href="bluesky_queueserver_api.zmq.REManagerAPI.re_runs.html" />
    <link rel="prev" title="bluesky_queueserver_api.zmq.REManagerAPI.task_result" href="bluesky_queueserver_api.zmq.REManagerAPI.task_result.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Bluesky Queue Server API
          </a>
              <div class="version">
                0.post1+ga89d336
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-reference.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#generation-of-queue-items">Generation of Queue Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#miscellaneous-api">Miscellaneous API</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api-reference.html#synchronous-communication-with-0mq-server">Synchronous Communication with 0MQ Server</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.html">bluesky_queueserver_api.zmq.REManagerAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.close.html">bluesky_queueserver_api.zmq.REManagerAPI.close</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#configuration-of-remanagerapi">Configuration of REManagerAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#low-level-api">Low-Level API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-controlling-re-manager">API for controlling RE Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-controlling-re-environment">API for controlling RE Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-monitoring-available-resources">API for Monitoring Available Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-management-of-re-queue">API for management of RE Queue</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-controlling-re-history">API for Controlling RE History</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-locking-re-manager">API for Locking RE Manager</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../api-reference.html#api-for-executing-tasks">API for Executing Tasks</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.script_upload.html">bluesky_queueserver_api.zmq.REManagerAPI.script_upload</a></li>
<li class="toctree-l4"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.function_execute.html">bluesky_queueserver_api.zmq.REManagerAPI.function_execute</a></li>
<li class="toctree-l4"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.task_status.html">bluesky_queueserver_api.zmq.REManagerAPI.task_status</a></li>
<li class="toctree-l4"><a class="reference internal" href="bluesky_queueserver_api.zmq.REManagerAPI.task_result.html">bluesky_queueserver_api.zmq.REManagerAPI.task_result</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-controlling-run-engine">API for controlling Run Engine</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-reference.html#api-for-monitoring-console-output-of-re-manager">API for monitoring console output of RE manager</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#asynchronous-communication-with-0mq-server">Asynchronous Communication with 0MQ Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#synchronous-communication-with-http-server">Synchronous Communication with HTTP Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api-reference.html#asynchronous-communication-with-http-server">ASynchronous Communication with HTTP Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release-history.html">Release History</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bluesky Queue Server API</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../api-reference.html">API Reference</a> &raquo;</li>
      <li>bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/generated/bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bluesky-queueserver-api-zmq-remanagerapi-wait-for-completed-task">
<h1>bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task<a class="headerlink" href="#bluesky-queueserver-api-zmq-remanagerapi-wait-for-completed-task" title="Permalink to this heading">¶</a></h1>
<dl class="py method">
<dt class="sig sig-object py" id="bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task">
<span class="sig-prename descclassname"><span class="pre">REManagerAPI.</span></span><span class="sig-name descname"><span class="pre">wait_for_completed_task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">task_uid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">600</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monitor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">treat_not_found_as_completed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bluesky_queueserver_api.zmq.REManagerAPI.wait_for_completed_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for one or multiple tasks to be completed. The function takes a single task UID (string) or
a number of task UIDs (any iterable) and returns a dictionary that maps UIDs of completed tasks
to their status. The status may be <code class="docutils literal notranslate"><span class="pre">'completed'</span></code> or <code class="docutils literal notranslate"><span class="pre">'not_found'</span></code> (if <code class="docutils literal notranslate"><span class="pre">treat_not_found_as_completed</span></code>
is <code class="docutils literal notranslate"><span class="pre">True</span></code>). The task has a status <code class="docutils literal notranslate"><span class="pre">'not_found'</span></code> if it was completed long ago and removed from
the dictionary of task results, so it is reasonable to consider such tasks as completed in most cases.</p>
<p>In addition to typical <code class="docutils literal notranslate"><span class="pre">WaitTimeoutError</span></code> and <code class="docutils literal notranslate"><span class="pre">WaitCancelError</span></code> exceptions, the function
may raises exceptions while calling <code class="docutils literal notranslate"><span class="pre">REManagerAPI.task_status()</span></code> API before and after wait.
If the server can not be reached or the request fails, the respective exception is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>task_uid: str or Iterable</strong></dt><dd><p>One task UID represented as a string or one or several task UIDs represented as an iterable of strings
(list, set etc). The value must be non-empty string or Iterable with at least one element.</p>
</dd>
<dt><strong>timeout: float (optional)</strong></dt><dd><p>Floating point number representing timeout in seconds.</p>
</dd>
<dt><strong>monitor: bluesky_queueserver_api.WaitMonitor or None (optional)</strong></dt><dd><p>Instance of <code class="docutils literal notranslate"><span class="pre">WaitMonitor</span></code>. See documentation for <code class="docutils literal notranslate"><span class="pre">REManagerAPI.wait_for_idle()</span></code> for more details.</p>
</dd>
<dt><strong>treat_not_found_as_completed: boolean (default: True)</strong></dt><dd><p>The tasks with status <code class="docutils literal notranslate"><span class="pre">'not_found'</span></code> are considered completed if the value is <code class="docutils literal notranslate"><span class="pre">True</span></code> (default).
This is correct assumption for most practical situations. Set the parameter to <code class="docutils literal notranslate"><span class="pre">False</span></code> to wait
for completion of the tasks that are not in the list of results.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>dict(str: str)</dt><dd><p>A dictionary where the keys are UIDs of completed tasks and the values represent status of the tasks.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><dl class="simple">
<dt>REManagerAPI.WaitTimeoutError, REManagerAPI.WaitCancelError</dt><dd><p>The manager did not switch to <em>‘idle’</em> state during the timeout period or
wait was cancelled using <code class="docutils literal notranslate"><span class="pre">monitor.cancel()</span></code>.</p>
</dd>
<dt>RequestTimeoutError, RequestFailedError, RequestError, ClientError</dt><dd><p>All exceptions raised by <code class="docutils literal notranslate"><span class="pre">send_request</span></code> API.</p>
</dd>
<dt>RequestParameterError</dt><dd><p>Invalid parameter value or type</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>The code in the following example starts three functions, waits for for execution of all functions,
read and stores the execution results in the process. It is advised to load the execution results
as they become available, otherwise they may expired and get deleted by the server.</p>
<p>Synchronous code:</p>
<p>Asynchronous code:</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bluesky_queueserver_api.zmq.REManagerAPI.task_result.html" class="btn btn-neutral float-left" title="bluesky_queueserver_api.zmq.REManagerAPI.task_result" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bluesky_queueserver_api.zmq.REManagerAPI.re_runs.html" class="btn btn-neutral float-right" title="bluesky_queueserver_api.zmq.REManagerAPI.re_runs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Brookhaven National Laboratory.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>