<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Release History &mdash; Bluesky Darkframes 0.5.0.post25+ga68cedc documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/jupyter-sphinx.css" type="text/css" />
      <link rel="stylesheet" href="_static/thebelab.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/thebelab-helper.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Minimum Version of Python and NumPy" href="min_versions.html" />
    <link rel="prev" title="Reference" href="reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Bluesky Darkframes
          </a>
              <div class="version">
                0.5.0.post25+ga68cedc
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v0-5-0-2021-10-08">v0.5.0 (2021-10-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixed">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changed">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-4-0-2020-03-18">v0.4.0 (2020-03-18)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#added">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v0-3-0-2019-08-15">v0.3.0 (2019-08-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-2-0-2019-08-08">v0.2.0 (2019-08-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-1-3-2019-08-05">v0.1.3 (2019-08-05)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-1-2-2019-07-31">v0.1.2 (2019-07-31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-1-1-2019-07-31">v0.1.1 (2019-07-31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v0-1-0-2019-07-29">v0.1.0 (2019-07-29)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="min_versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bluesky Darkframes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Release History</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/release-history.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="release-history">
<h1>Release History<a class="headerlink" href="#release-history" title="Permalink to this heading">¶</a></h1>
<section id="v0-5-0-2021-10-08">
<h2>v0.5.0 (2021-10-08)<a class="headerlink" href="#v0-5-0-2021-10-08" title="Permalink to this heading">¶</a></h2>
<section id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>support detectors not defining method <code class="docutils literal notranslate"><span class="pre">collect_asset_docs</span></code></p></li>
<li><p>resolve jupyter_sphinx deprecation warning</p></li>
</ul>
</section>
<section id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>add scikit-image to <code class="docutils literal notranslate"><span class="pre">requirements-dev.txt</span></code> to resolve a CI error</p></li>
</ul>
</section>
</section>
<section id="v0-4-0-2020-03-18">
<h2>v0.4.0 (2020-03-18)<a class="headerlink" href="#v0-4-0-2020-03-18" title="Permalink to this heading">¶</a></h2>
<section id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor" title="bluesky_darkframes.DarkFramePreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkFramePreprocessor</span></code></a> has new methods
<a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor.disable" title="bluesky_darkframes.DarkFramePreprocessor.disable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">disable()</span></code></a> and
<a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor.enable" title="bluesky_darkframes.DarkFramePreprocessor.enable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enable()</span></code></a> to conveniently turn
it off and on interactively.</p></li>
</ul>
</section>
<section id="id1">
<h3>Fixed<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>It is now possible to have multiple
<a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor" title="bluesky_darkframes.DarkFramePreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkFramePreprocessor</span></code></a> instances watching the same
detector with different <code class="docutils literal notranslate"><span class="pre">dark_plan</span></code> and <code class="docutils literal notranslate"><span class="pre">stream_name</span></code> parameters.
Previously, these would interact badly and raise errors.</p></li>
<li><p>When the same Snapshot is used multiple times, fresh unique identifiers are
assigned to the Resource and Datum documents before they are reissued. That
is, we never issue a document with a given unique ID more than once, even if
the content is the same.</p></li>
</ul>
</section>
<section id="id2">
<h3>Changed<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">dark_plan</span></code> passed to <a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor" title="bluesky_darkframes.DarkFramePreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkFramePreprocessor</span></code></a>
is now expected to accept a <code class="docutils literal notranslate"><span class="pre">detector</span></code> argument. Previously the
<code class="docutils literal notranslate"><span class="pre">dark_plan</span></code> referred to a specific detector instance in its body, as in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dark_plan</span><span class="p">():</span>
    <span class="c1"># Do stuff with some_detector.</span>
    <span class="o">...</span>

<span class="n">dark_frame_preprocessor</span> <span class="o">=</span> <span class="n">bluesky_darkframes</span><span class="o">.</span><span class="n">DarkFramePreprocessor</span><span class="p">(</span>
     <span class="n">dark_plan</span><span class="o">=</span><span class="n">dark_plan</span><span class="p">,</span> <span class="n">detector</span><span class="o">=</span><span class="n">some_detector</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, the <code class="docutils literal notranslate"><span class="pre">dark_plan</span></code> can be written to accept a generic <code class="docutils literal notranslate"><span class="pre">detector</span></code>
argument, and  <a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor" title="bluesky_darkframes.DarkFramePreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkFramePreprocessor</span></code></a> will pass
<code class="docutils literal notranslate"><span class="pre">some_detector</span></code> in, as in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">dark_plan</span><span class="p">(</span><span class="n">detector</span><span class="p">):</span>
    <span class="c1"># Do stuff with detector.</span>
    <span class="o">...</span>

<span class="n">dark_frame_preprocessor</span> <span class="o">=</span> <span class="n">bluesky_darkframes</span><span class="o">.</span><span class="n">DarkFramePreprocessor</span><span class="p">(</span>
     <span class="n">dark_plan</span><span class="o">=</span><span class="n">dark_plan</span><span class="p">,</span> <span class="n">detector</span><span class="o">=</span><span class="n">some_detector</span><span class="p">)</span>
</pre></div>
</div>
<p>The old signature <code class="docutils literal notranslate"><span class="pre">dark_plan()</span></code> is still supported for
backward-compatbility, but a warning will be issued that this will not be
supported in a future release.</p>
</li>
<li><p>Version v0.2.0 introduced a <code class="docutils literal notranslate"><span class="pre">pedestal</span></code> parameter in
<a class="reference internal" href="reference.html#bluesky_darkframes.DarkSubtraction" title="bluesky_darkframes.DarkSubtraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkSubtraction</span></code></a> to help avoid overflow
wrap-around. The <em>documented</em> default value was <code class="docutils literal notranslate"><span class="pre">100</span></code> but the <em>actual</em>
default in the code was <code class="docutils literal notranslate"><span class="pre">0</span></code>. The actual default has been changed to <code class="docutils literal notranslate"><span class="pre">100</span></code>
to match the documentation.</p></li>
</ul>
</section>
</section>
<section id="v0-3-0-2019-08-15">
<h2>v0.3.0 (2019-08-15)<a class="headerlink" href="#v0-3-0-2019-08-15" title="Permalink to this heading">¶</a></h2>
<p>This release fixes a critical off-by-one issue in v0.2.0. All users are
recommended to upgrade.</p>
<ul class="simple">
<li><p>Associate a given <a class="reference internal" href="reference.html#bluesky_darkframes.DarkFramePreprocessor" title="bluesky_darkframes.DarkFramePreprocessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkFramePreprocessor</span></code></a> instance
with a specific detector. This enables it to <em>only</em> intercede when that
specific detector is triggered and to ignore all other acquisitions.</p></li>
<li><p>Change the timing of when the conditions for a new dark frame are checked:
the check now occurs just before the detector of interest is triggered.</p></li>
</ul>
</section>
<section id="v0-2-0-2019-08-08">
<h2>v0.2.0 (2019-08-08)<a class="headerlink" href="#v0-2-0-2019-08-08" title="Permalink to this heading">¶</a></h2>
<p>Thie release adds two features that change the default behavior:</p>
<ul class="simple">
<li><p>Check whether a new dark frame is needed and, if so, take one after each
Event is closed (i.e. after each ‘save’ message) in addition to after each
Run is opened (i.e. after each ‘open_run’ message).</p></li>
<li><p>Support a <code class="docutils literal notranslate"><span class="pre">pedestal</span></code> parameter.
<a class="reference internal" href="reference.html#bluesky_darkframes.DarkSubtraction" title="bluesky_darkframes.DarkSubtraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkSubtraction</span></code></a>, which defaults to <code class="docutils literal notranslate"><span class="pre">100</span></code>. This
helps avoid negative values in the subtracted image. See docstring for
details.</p></li>
</ul>
</section>
<section id="v0-1-3-2019-08-05">
<h2>v0.1.3 (2019-08-05)<a class="headerlink" href="#v0-1-3-2019-08-05" title="Permalink to this heading">¶</a></h2>
<p>This release mostly consists of documentation and small usability improvements.</p>
<ul class="simple">
<li><p>Expose <code class="docutils literal notranslate"><span class="pre">cache</span></code> as a public properly.</p></li>
<li><p>Raise more specific Exception types.</p></li>
</ul>
</section>
<section id="v0-1-2-2019-07-31">
<h2>v0.1.2 (2019-07-31)<a class="headerlink" href="#v0-1-2-2019-07-31" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Fix critical bug in <code class="docutils literal notranslate"><span class="pre">locked_signals</span></code> feature and one-by-one bug in
<code class="docutils literal notranslate"><span class="pre">limit</span></code> feature.</p></li>
</ul>
</section>
<section id="v0-1-1-2019-07-31">
<h2>v0.1.1 (2019-07-31)<a class="headerlink" href="#v0-1-1-2019-07-31" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Critical fix to <a class="reference internal" href="reference.html#bluesky_darkframes.DarkSubtraction" title="bluesky_darkframes.DarkSubtraction"><code class="xref py py-class docutils literal notranslate"><span class="pre">DarkSubtraction</span></code></a>.</p></li>
<li><p>Added example of streaming export of subtracted frames as TIFF.</p></li>
</ul>
</section>
<section id="v0-1-0-2019-07-29">
<h2>v0.1.0 (2019-07-29)<a class="headerlink" href="#v0-1-0-2019-07-29" title="Permalink to this heading">¶</a></h2>
<p>Initial release</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="reference.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="min_versions.html" class="btn btn-neutral float-right" title="Minimum Version of Python and NumPy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, Brookhaven National Lab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>