<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scaling Tiled Down &mdash; tiled 0.1.0a53 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="FAQ" href="faq.html" />
    <link rel="prev" title="Access Control" href="access-control.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> tiled
          </a>
              <div class="version">
                0.1.0a53
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/navigation.html">Navigate with the Python Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/slicing.html">Load Slices of Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/caching.html">Keep a Local Copy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/export.html">Deliberate Export</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/login.html">Log into an Authenticated Tiled Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/serving-files.html">Serve a Directory of Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/search.html">Search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/plotly-integration.html">Plot Data in Plotly Chart Studio</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How To Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how-to/client-logger.html">Use Performance and Debug Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/configuration.html">Serve Data using Configuration Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/custom-export-formats.html">Add Custom Export Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/profiles.html">Use Profiles to streamline Python client setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/api-keys.html">Create and Use API Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/direct-client.html">Use Tiled in Python without an HTTP server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/tune-caches.html">Tune Caches to Balance Speed and Memory Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/docker.html">Run Tiled using Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/tiled-database.html">Set up a database for a scaled authenticated deloyment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanations</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="standards.html">Standards Used by Tiled</a></li>
<li class="toctree-l1"><a class="reference internal" href="structures.html">Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="compression.html">Compression</a></li>
<li class="toctree-l1"><a class="reference internal" href="specialized-formats.html">Reading and Exporting Specialized Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">Caching Design and Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="access-control.html">Access Control</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Scaling Tiled Down</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-does-a-file-map-to-a-tiled-structure">How Does a File Map to a Tiled “Structure”?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="lineage.html">How Tiled Fits into the Ecosystem</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/service.html">Service-side Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/http-api-overview.html">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/python-client.html">Python Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/authentication.html">Authentication Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/scopes.html">Scopes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/commandline.html">Command-line tool</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/service-configuration.html">Service Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/client-profiles.html">Client Profiles Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/release-history.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/min-versions.html">Minimum Version of Python and NumPy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tiled</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Scaling Tiled Down</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/explanations/scaling-down.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scaling-tiled-down">
<h1>Scaling Tiled Down<a class="headerlink" href="#scaling-tiled-down" title="Permalink to this headline">¶</a></h1>
<p>Tiled is a natural fit when you are operating the scale of a large scientific
facility with extensive data cataloging and access control systems.  However, if
you are operating as as an individual or a research group, Tiled scales down
nicely to provide a simple-to-configure solution without the overhead of
maintaining databases and other complex data systems. Tiled bridges these
domains nicely, giving a consistent data access experience.</p>
<p>Tiled’s file-based mode of operation, i.e.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tiled</span> <span class="n">serve</span> <span class="n">directory</span> <span class="o">...</span>
</pre></div>
</div>
<p>is designed to be an easy starting point and to serve situations where
traditional file-based workflows need to coexist with Tiled’s service-based
ones.</p>
<section id="how-does-a-file-map-to-a-tiled-structure">
<h2>How Does a File Map to a Tiled “Structure”?<a class="headerlink" href="#how-does-a-file-map-to-a-tiled-structure" title="Permalink to this headline">¶</a></h2>
<p>Tiled file-based tree tries to capture your logical understanding of what
your files on disk mean in a way that you can access programmatically and
consistently. Tiled exposes the <em>structure</em> separately from how it happens
to be stored. A given data set—whether stored in CSV, Parquet, or a
spreadsheet in an Excel file—is of course the same data, and Tiled serves
it to the client in the same structure. If a collection data is stored in
heterogenous because of the way it was collected or due to other external
factors, those differences are hidden from the client. Likewise, if data
formats change over time (such as moving from CSV to a faster binary format) the
client-side code does not have to change.</p>
<p>In many situations, file maps to an obvious structure, one-to-one:</p>
<ul class="simple">
<li><p>CSV file -&gt; dataframe</p></li>
<li><p>TIFF image -&gt; array</p></li>
<li><p>Excel file -&gt; collection of dataframes (one per spreadsheet)</p></li>
<li><p>HDF5 file -&gt; tree of arrays</p></li>
</ul>
<p>When Tiled’s file-based Tree walks the directory and discovers a file, it:</p>
<ol class="arabic simple">
<li><p>Identifies the file extension — e.g. <code class="docutils literal notranslate"><span class="pre">&quot;.tif&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;.tiff&quot;</span></code></p></li>
<li><p>Maps this to a media type (a.k.a. MIME type) — e.g. <code class="docutils literal notranslate"><span class="pre">&quot;image/tiff&quot;</span></code></p></li>
<li><p>Find a Tiled Adapter, whether built-in or user-provided, that is
registered as a valid reader for that media type</p></li>
<li><p>On demand, uses that Tiled Adapter to extract the metadata and data from
the file.</p></li>
<li><p>Serves the data to the client in the encoding of the client’s choosing</p></li>
</ol>
<p>Some structures span multiple files, such as:</p>
<ul class="simple">
<li><p>TIFF sequence -&gt; an array where each individual file represents a slice</p></li>
<li><p>Specialized formats like Zarr or TileDB that use a directory with an internal layout</p></li>
<li><p>Multi-file HDF5 files</p></li>
<li><p><em>Ad hoc</em> formats consisting of a data file and a companion “metadata” file, such
as a TIFF with a YAML that are logically associated via file names and should
constitute a single “dataset”</p></li>
</ul>
<p>To handle these, Tiled’s file-based tree has a hook that passes control of the
entire directory over time a Tiled Adapter.</p>
<p>When Tiled’s file-based Tree walks the directory and discovers a <em>subdirectory</em> it:</p>
<ol class="arabic simple">
<li><p>Passes the relative path to the subdirectory to the hook, <code class="docutils literal notranslate"><span class="pre">subdirectory_handler</span></code>,
to see if this subdirectory has special internal structure.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">subdirectory_handler</span></code> returns a Tiled Adapter, that Adapter is passed the path
and left to its own devices to manage the files in that subdirectory.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">subdirectory_handler</span></code> returns <code class="docutils literal notranslate"><span class="pre">None</span></code>, the file-based Tree proceeds to walk
the contents of that subdirectory and treat any files therein as individuals as
described above.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="access-control.html" class="btn btn-neutral float-left" title="Access Control" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="FAQ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Bluesky Collaboration.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>